<html><head><style type="text/css">@import url(http://fonts.googleapis.com/css?family=Open+Sans:300);

body
{
    margin: 0 auto;
    font-family: Arial, sans-serif;
    color: #444444;
    line-height: 1;
    max-width: 960px;
    padding: 30px;
}
h1, h2, h3
{
    font-family: "Open Sans", serif;
}
h1, h2, h3, h4
{
    color: #111111;
    font-weight: 400;
}
h1, h2, h3, h4, h5, p
{
    margin-bottom: 24px;
    padding: 0;
}
h1
{
    font-size: 48px;
}
h2
{
    font-size: 36px;
    margin: 24px 0 6px;
}
h3
{
    font-size: 24px;
}
h4
{
    font-size: 21px;
}
h5
{
    font-size: 18px;
}
a
{
    color: #0099ff;
    margin: 0;
    padding: 0;
    vertical-align: baseline;
}
a:hover
{
    text-decoration: none;
    color: #ff6600;
}
a:visited
{
    color: purple;
}
ul, ol
{
    padding: 0;
    margin: 1.2em;
}
li
{
    line-height: 24px;
}
li ul, li ul
{
    margin-left: 24px;
}
p, ul, ol
{
    font-size: 16px;
    line-height: 24px;
    max-width: 540px;
}
pre
{
    font-family: Consolas, Monaco, Andale Mono, monospace;
    padding: 0px 24px;
    max-width: 800px;
    white-space: pre-wrap;
    line-height: 1;
}
code
{
    font-family: Consolas, Monaco, Andale Mono, monospace;
    line-height: 1;
    font-size: 13px;
}
aside
{
    display: block;
    float: right;
    width: 390px;
}
blockquote
{
    border-left: .5em solid #eee;
    padding: 0 2em;
    margin-left: 0;
    max-width: 476px;
}
blockquote cite
{
    font-size: 14px;
    line-height: 20px;
    color: #bfbfbf;
}
blockquote cite:before
{
    content: '\2014 \00A0';
}

blockquote p
{
    color: #666;
    max-width: 460px;
}
hr
{
    width: 540px;
    text-align: left;
    margin: 0 auto 0 0;
    color: #333;
    background-color: #333;
    border: 0;
    height: 2px;
}
</style></head><body><h3>Recipes</h3>

<h3>Set up the submodule for the first time:</h3>

<pre><code>[~]$  cd ~/main/
[main]$  git submodule add git://github.com/my/submodule.git ./subm
[main]$  git submodule update --init
[main]$  git commit ./submodule -m "Added submodule as ./subm"
</code></pre>

<h3>Fetch submodules after cloning a repository:</h3>

<pre><code>[~]$  git clone git://github.com/my/main.git ~/main
[~]$  cd ~/main/
[main]$  git submodule update --init
</code></pre>

<h3>Pull upstream main repo changes and update submodule contents:</h3>

<pre><code>[main]$  git pull origin/master
[main]$  git submodule update
</code></pre>

<h3>Pull upstream changes to the submodule:</h3>

<pre><code>[main]$  cd ./subm
[subm]$  git pull origin/master   # or fetch then merge
[subm]$  cd ..
[main]$  git commit ./subm -m "Updated submodule reference"
</code></pre>

<h3>Edit and commit files in your submodule:</h3>

<pre><code>[main]$  cd ./subm
[subm]$  edit whatever.rb
[subm]$  git commit whatever.rb -m "Updated whatever.rb"
[subm]$  cd ..
[main]$  git commit ./subm -m "Updated submodule reference"
</code></pre>

<h3>Push your submodule changes to the submodule upstream:</h3>

<pre><code>[main]$  cd ./subm
[subm]$  git push origin master
</code></pre>
</body></html>